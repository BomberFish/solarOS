<!DOCTYPE html>
<html>

<head>
	<title>SolarOS Startpage</title>
	<link rel="stylesheet" type="text/css" href="/css/solarbase.css" />
	<style>

		body {
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
			height: 100vh;
			padding: 0;
			margin: 0;
		}

		input {
			width: min(80%, 20rem);
			height: 2rem;
			font-size: 1.5rem;
		}

		img {
			filter: var(--filter-accent);
		}
	</style>
</head>

<body>
	<img src="./globe.desk.fill.svg" class="logo" />
	<h1>WorldWideWeb</h1>
	<input type="text" id="omni" placeholder="Search or enter an address" />

	<script>
		document.getElementById("omni").addEventListener("keydown", function(e) {
			if (e.key === "Enter") {
				const url = this.value;
				if (url.startsWith("http://") || url.startsWith("https://")) {
					window.location.href = url;
				} else {
					const expr = /(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/;

					if (url.match(expr)) {
						window.location.href = url;
					} else {
						window.location.href = "https://www.google.com/search?q=" + url;
					}
				}
			}
		});
	</script>
</body>

</html>